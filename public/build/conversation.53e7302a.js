(window.webpackJsonp=window.webpackJsonp||[]).push([["conversation"],{k6dk:function(n,e,t){(function(n){t("ng4s");var e=window.location.hostname,a=WS.connect("ws://"+e+":5510");a.on("socket/connect",function(e){function t(n){n.scrollTop=n.scrollHeight}t(document.getElementById("content"));var a={appendMessage:function(e,a){var s=new Date,o='\n            <div class="message">\n                <img class="avatar-md" src="/avatar.jpg" data-toggle="tooltip" data-placement="top" title="" alt="avatar" data-original-title="Keith">\n                <div class="text-main">\n                    <div class="text-group">\n                        <div class="text">\n                            <p>'+a+"</p>\n                        </div>\n                    </div>\n                    <span>"+(s.getDate()+"."+s.getMonth()+"."+s.getFullYear()+" "+s.getHours()+":"+s.getMinutes()+":"+s.getSeconds()+" - "+e.displayName)+"</span>\n                </div>\n            </div>";n("#message-zone").append(o),t(document.getElementById("content"))},sendMessage:function(n){clientInformation.message=n,e.publish(clientInformation.wsConversationRoute,JSON.stringify(clientInformation)),this.appendMessage(clientInformation,n)}};n(document).on("click","#submit-message",function(t){t.preventDefault();var s=n("#form-message").val();s||alert("Please send something on the chat"),a.sendMessage(s),n("#form-message").val(""),e.publish(clientInformation.wsConversationRoute+"/notifications","")}),n(document).on("input","#form-message",function(t){t.preventDefault();var a=n("#form-message").val();e.publish(clientInformation.wsConversationRoute+"/notifications",a)}),e.subscribe(clientInformation.wsConversationRoute,function(n,e){var t=JSON.parse(e),s=t.message;a.appendMessage(t,s)}),e.subscribe("online",function(e,t){var a=JSON.parse(t);console.log(a),n("li[data-usid]").each(function(e){var t=n(this).attr("data-usid");for(var s in n('li[data-usid="'+t+'"]').find(".user-details").removeClass("online"),a)a.hasOwnProperty(s)&&s==t&&n('li[data-usid="'+t+'"]').find(".user-details").addClass("online")})}),e.subscribe(clientInformation.wsConversationRoute+"/notifications",function(e,a){var s=JSON.parse(a),o='\n        <div class="message" data-writing="'+s.username+'">\n            <img class="avatar-md" src="/avatar.jpg" data-toggle="tooltip" data-placement="top" title="" alt="avatar" data-original-title="Keith">\n            <div class="text-main">\n                <div class="text-group">\n                    <div class="text typing">\n                        <div class="wave">\n                            <span class="dot"></span>\n                            <span class="dot"></span>\n                            <span class="dot"></span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>';for(var i in n('[data-writing="'+s.username+'"]').remove(),s)if(s.hasOwnProperty(i)){s[i].displayName,s[i].message;n("#message-zone").append(o),t(document.getElementById("content"))}}),console.log("Successfully Connected!")}),a.on("socket/disconnect",function(n){console.log("Disconnected for "+n.reason+" with code "+n.code)})}).call(this,t("EVdn"))}},[["k6dk","runtime",1,0]]]);