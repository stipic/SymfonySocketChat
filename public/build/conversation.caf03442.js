(window.webpackJsonp=window.webpackJsonp||[]).push([["conversation"],{k6dk:function(n,e,t){(function(n){t("ng4s");var e=window.location.hostname,o=WS.connect("ws://"+e+":5510");o.on("socket/connect",function(e){var t={appendMessage:function(n,e){var t;t=n.username==clientInformation.username?"me":n.displayName;var o=document.getElementById("chat-list"),s=document.createElement("li");s.innerHTML=t+": "+e,o.appendChild(s)},sendMessage:function(n){clientInformation.message=n,e.publish(clientInformation.wsConversationRoute,JSON.stringify(clientInformation)),this.appendMessage(clientInformation,n)}};document.getElementById("form-submit").addEventListener("click",function(){var n=document.getElementById("form-message").value;n||alert("Please send something on the chat"),t.sendMessage(n),document.getElementById("form-message").value="",e.publish(clientInformation.wsConversationRoute+"/notifications","")},!1),document.getElementById("form-message").addEventListener("input",function(){var n=document.getElementById("form-message").value;e.publish(clientInformation.wsConversationRoute+"/notifications",n)},!1),e.subscribe(clientInformation.wsConversationRoute,function(n,e){var o=JSON.parse(e),s=o.message;t.appendMessage(o,s)}),e.subscribe("online",function(e,t){var o=JSON.parse(t);console.log(o),n("span[data-usid]").each(function(e){var t=n(this).attr("data-usid");for(var s in n('span[data-usid="'+t+'"]').html("[offline]"),o)o.hasOwnProperty(s)&&s==t&&n('span[data-usid="'+t+'"]').html("[ONLINE]")})}),e.subscribe(clientInformation.wsConversationRoute+"/notifications",function(e,t){var o=JSON.parse(t);for(var s in n("#writing").html(""),o)if(o.hasOwnProperty(s)){var a=o[s].displayName+" "+o[s].message;n("#writing").append(document.createTextNode(a))}}),console.log("Successfully Connected!")}),o.on("socket/disconnect",function(n){console.log("Disconnected for "+n.reason+" with code "+n.code)})}).call(this,t("EVdn"))}},[["k6dk","runtime",1,0]]]);