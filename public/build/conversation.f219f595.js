(window.webpackJsonp=window.webpackJsonp||[]).push([["conversation"],{k6dk:function(n,e,t){(function(n){t("ng4s");var e=window.location.hostname,a=WS.connect("ws://"+e+":5510");a.on("socket/connect",function(e){function t(n){n.scrollTop=n.scrollHeight}t(document.getElementById("content"));var a=function(e){n("#message-zone").append(e),t(document.getElementById("content"))};n(document).on("click","#submit-message",function(t){t.preventDefault();var a=n("#form-message").val();a&&n.ajax({url:"/message/"+clientInformation.conversationId+"/new",type:"POST",data:{message:a},complete:function(n){}}),n("#form-message").val(""),e.publish(clientInformation.wsConversationRoute+"/notifications","")}),n(document).on("input","#form-message",function(t){t.preventDefault();var a=n("#form-message").val();e.publish(clientInformation.wsConversationRoute+"/notifications",a)}),e.subscribe(clientInformation.wsConversationRoute,function(n,e){a(e.msg)}),e.subscribe("online",function(e,t){var a=JSON.parse(t);n("li[data-usid]").each(function(e){var t=n(this).attr("data-usid");for(var o in n('li[data-usid="'+t+'"]').find(".user-details").removeClass("online"),a)a.hasOwnProperty(o)&&o==t&&n('li[data-usid="'+t+'"]').find(".user-details").addClass("online")})}),e.subscribe(clientInformation.wsConversationRoute+"/notifications",function(e,a){var o=JSON.parse(a),s='\n        <div class="message" data-writing="'+o.username+'">\n            <img class="avatar-md" src="/avatar.jpg" data-toggle="tooltip" data-placement="top" title="" alt="avatar" data-original-title="Keith">\n            <div class="text-main">\n                <div class="text-group">\n                    <div class="text typing">\n                        <div class="wave">\n                            <span class="dot"></span>\n                            <span class="dot"></span>\n                            <span class="dot"></span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>';for(var i in n('[data-writing="'+o.username+'"]').remove(),o)if(o.hasOwnProperty(i)){o[i].displayName,o[i].message;n("#message-zone").append(s),t(document.getElementById("content"))}}),console.log("Successfully Connected!")}),a.on("socket/disconnect",function(n){console.log("Disconnected for "+n.reason+" with code "+n.code)})}).call(this,t("EVdn"))}},[["k6dk","runtime",1,0]]]);