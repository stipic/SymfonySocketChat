{% extends 'base.html.twig' %}

{% block stylesheets %}
    {{ encore_entry_link_tags('app') }}
{% endblock %}

{% block body %}
    
    <div><a href="/">Back to conversations</a></div>
    <ul>
        {% for message in messages %}

            <li>[{{ message.getCreatedBy().getUsername() }} at {{ message.getCreatedAt() | date('d.m.Y H:i:s') }}]: <b>{{ message.content }}</b></li>
        
        {% endfor %}
    </ul>

    <div><textarea id="message"></textarea><button type="submit">Send</button></div>


    <div>Users:</div>
    <ul>
        {% for user in users %}
            <li>{{ user.username }}</li>
        {% endfor %}
    </ul>

{% endblock %}

{% block javascripts %}
    <script src="{{ asset('bundles/goswebsocket/js/vendor/autobahn.min.js') }}"></script>
    <script src="{{ asset('bundles/goswebsocket/js/gos_web_socket_client.js') }}"></script>
    {{ encore_entry_script_tags('app') }}
{% endblock %}